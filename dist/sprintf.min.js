var r=/%(\+)?(\d+\$)?(0|'.)?(-)?(\d+)?(\.\d+)?(.)/g,s=function(e){for(var t,n,o,u,a,d,f,i="length",l="substr",x="lastIndex",c=1;n=r.exec(e);){var g=n[1],v=n[7],m=v.toLowerCase();if(s[m]){if((o=n[2])&&"$"==o[t=o[i]-1]&&(o=o[l](0,t)),(u=n[3])?"'"==u[0]&&(u=u[1]):u=" ",a=n[4],d=n[5],(f=n[6])&&"."==f[0]&&f[l](1)&&(f=f[l](1)),t=s[m](arguments[o||c],/[A-Z]/.test(v),g)+"",d)for(;t[i]<d;)t=a?t+u:u+t;f&&t[i]>f&&(t=a?t[l](0,f):t[l](t[i]-f)),c++}else t=v;e=e[l](0,g=n.index)+t+e[l](r[x]),r[x]=t[i]+g}return e};s.s=function(r,e){return e?"%S":r},module.exports=s;