var r=/%(\+)?(\d+\$)?(0|'.)?(-)?(\d+)?(\.\d+)?(.)/g,s=function(t){for(var n,e,o,u,i,f,a,c="length",g="substr",p="lastIndex",d=1;e=r.exec(t);){var l=e[1],x=e[7],C=x.toLowerCase();if(s[C]){if((o=e[2])&&"$"==o[n=o[c]-1]&&(o=o[g](0,n)),(u=e[3])?"'"==u[0]&&(u=u[1]):u=" ",i=e[4],f=e[5],(a=e[6])&&"."==a[0]&&a[g](1)&&(a=a[g](1)),n=s[C](arguments[o||d],/[A-Z]/.test(x),l)+"",f)for(;n[c]<f;)n=i?n+u:u+n;a&&n[c]>a&&(n=i?n[g](0,a):n[g](n[c]-a)),d++}else n=x;t=t[g](0,l=e.index)+n+t[g](r[p]),r[p]=n[c]+l}return t};s.b=function(t,n){return n?"%B":(+t).toString(2)},s.c=function(t,n){return n?"%C":String.fromCharCode(+t)},s.d=function(t,n,r){return n?"%D":(r||"")+ +t},s.e=function(t,n){return t=(+t).toExponential(),n?t.toUpperCase():t},s.f=function(t){return(+t).toLocaleString()},s.g=function(t,n){return~~((t>>17)+.5)?(t=(+t).toExponential(),n?t.toUpperCase():t):(+t).toLocaleString()},s.o=function(t,n){return n?"%O":(+t).toString(8)},s.s=function(t,n){return n?"%S":t},s.x=function(t,n){return t=(+t).toString(16),n&&(t=t.toUpperCase()),t},module.exports=s;